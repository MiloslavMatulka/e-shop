<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <title>E-Shop</title>
    <link rel="stylesheet" href="../css/style.css">
  </head>
<body>
<div align="center">
  <h1>Product Management</h1>
<p th:href="@{/get-max-id}" th:text="${maxId}"></p>
  <p>
    <a class="btn menu" th:href="@{/populate-table}">Populate</a>
    <a class="btn menu" th:href="@{/add-new-form}">Add</a>
<!--    <div th:text="${maxId}">-->
<!--    <a class="btn menu" th:href="@{/get-max-id}">-->
<!--      <span th:text="${maxId}"></span>-->
    <a class="btn menu" th:href="@{/switch-is-all-out-of-sale-visible}">Hide/Show out of sale
      <!--th:text="${visible} ? 'Hide' : 'Show'">-->
<!--      <span th:value="${visible}"></span>-->
<!--      <span th:text="${visible} == true ? 'Hide' : 'Show'"></span>-->
<!--      <span th:text="${visible.isAllOutOfSaleVisible} ? 'Hide out of sale' : 'Show out of sale'"></span>-->
<!--      <span th:if="${visible == true}">Ok</span>-->
<!--      <span th:unless="${visible == false}">No</span>-->
<!--      <span th:if="${#bools.isTrue(visible)}">Ok</span>-->
<!--      <span th:unless="${#bools.isFalse(visible)}">No</span>-->
<!--      <span th:if="${visible == true}">Hide out of sale</span>-->
<!--      <span th:unless="${visible == false}">Show out of sale</span>-->
    </a>
<!--    </div>-->
<!--  <div th:unless="${maxId > 0}">ok</div>-->
    <a class="btn menu" th:href="@{/set-all-out-of-sale-deleted}">Delete out of sale</a>
    <a class="btn menu" th:href="@{/set-all-deleted}">Delete all</a>
  </p>

  <table>
    <tr>
      <th>Part Number</th>
      <th>Name</th>
      <th>Description</th>
      <th>For Sale</th>
      <th>Price</th>
      <th>Action</th>
    </tr>

    <tr th:each="product:${allProducts}">
      <td th:text="${product.partNo}"></td>
      <td th:text="${product.name}"></td>
      <td th:text="${product.description}"></td>
      <td>
        <span th:if="${product.isForSale == false}" th:text="${product.isForSale}" style="color: tomato"></span>
        <span th:unless="${product.isForSale == false}" th:text="${product.isForSale}" style="color: inherit"></span>
      </td>
      <td th:text="${product.price}"></td>
      <td>
        <a class="btn upd" th:href="@{/update-form/{id}(id=${product.id})}">Update</a>
        <a class="btn del" th:href="@{/set-by-id-deleted/{id}(id=${product.id})}">Delete</a>
      </td>
    </tr>
  </table>
</div>
</body>
</html>